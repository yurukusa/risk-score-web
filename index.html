<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Claude Code Risk Scanner â€” Check your AI agent's safety in 30 seconds</title>
<meta name="description" content="Free online scanner that checks 10 safety criteria in your Claude Code configuration. Get a risk score and actionable fixes.">
<meta name="og:title" content="Claude Code Risk Scanner">
<meta name="og:description" content="Check your AI agent's safety in 30 seconds. Free online scanner for Claude Code configurations.">
<style>
/* ============================================
   RESET & BASE
   ============================================ */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

:root {
  --bg-primary: #0d1117;
  --bg-secondary: #161b22;
  --bg-tertiary: #21262d;
  --bg-card: #1c2128;
  --border: #30363d;
  --border-light: #3d444d;
  --text-primary: #e6edf3;
  --text-secondary: #8b949e;
  --text-muted: #6e7681;
  --accent: #58a6ff;
  --accent-hover: #79c0ff;
  --green: #3fb950;
  --green-bg: rgba(63, 185, 80, 0.1);
  --green-border: rgba(63, 185, 80, 0.3);
  --yellow: #d29922;
  --yellow-bg: rgba(210, 153, 34, 0.1);
  --yellow-border: rgba(210, 153, 34, 0.3);
  --orange: #db6d28;
  --orange-bg: rgba(219, 109, 40, 0.1);
  --orange-border: rgba(219, 109, 40, 0.3);
  --red: #f85149;
  --red-bg: rgba(248, 81, 73, 0.1);
  --red-border: rgba(248, 81, 73, 0.3);
  --font-mono: 'SF Mono', 'Cascadia Code', 'Fira Code', 'JetBrains Mono', Consolas, monospace;
  --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
  --radius: 8px;
  --radius-lg: 12px;
  --shadow: 0 1px 3px rgba(0,0,0,0.3), 0 4px 12px rgba(0,0,0,0.2);
  --shadow-lg: 0 4px 24px rgba(0,0,0,0.4);
  --transition: 0.2s ease;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-sans);
  background: var(--bg-primary);
  color: var(--text-primary);
  line-height: 1.6;
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ============================================
   LAYOUT
   ============================================ */
.container {
  max-width: 800px;
  margin: 0 auto;
  padding: 0 20px;
}

/* ============================================
   HEADER
   ============================================ */
.header {
  padding: 48px 0 32px;
  text-align: center;
  border-bottom: 1px solid var(--border);
}

.header__badge {
  display: inline-block;
  font-family: var(--font-mono);
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: var(--accent);
  background: rgba(88, 166, 255, 0.1);
  border: 1px solid rgba(88, 166, 255, 0.25);
  padding: 4px 12px;
  border-radius: 20px;
  margin-bottom: 20px;
}

.header__title {
  font-size: clamp(28px, 5vw, 42px);
  font-weight: 800;
  letter-spacing: -0.02em;
  margin-bottom: 12px;
  background: linear-gradient(135deg, var(--text-primary) 0%, var(--text-secondary) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.header__tagline {
  font-size: clamp(16px, 2.5vw, 20px);
  color: var(--text-secondary);
  font-weight: 400;
}

/* ============================================
   SCAN INPUT SECTION
   ============================================ */
.scan-section {
  padding: 40px 0;
}

.scan-section__label {
  font-size: 15px;
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.scan-section__label-icon {
  width: 18px;
  height: 18px;
  opacity: 0.7;
}

.textarea-wrapper {
  position: relative;
  margin-bottom: 16px;
}

.scan-textarea {
  width: 100%;
  min-height: 240px;
  padding: 16px 18px;
  font-family: var(--font-mono);
  font-size: 13px;
  line-height: 1.7;
  color: var(--text-primary);
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  resize: vertical;
  outline: none;
  transition: border-color var(--transition), box-shadow var(--transition);
  tab-size: 2;
}

.scan-textarea:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(88, 166, 255, 0.15);
}

.scan-textarea::placeholder {
  color: var(--text-muted);
  font-style: italic;
}

.scan-textarea::-webkit-scrollbar {
  width: 8px;
}

.scan-textarea::-webkit-scrollbar-track {
  background: transparent;
}

.scan-textarea::-webkit-scrollbar-thumb {
  background: var(--border-light);
  border-radius: 4px;
}

.char-count {
  position: absolute;
  bottom: 12px;
  right: 14px;
  font-family: var(--font-mono);
  font-size: 11px;
  color: var(--text-muted);
  pointer-events: none;
}

/* ============================================
   BUTTONS
   ============================================ */
.btn-row {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-family: var(--font-sans);
  font-size: 15px;
  font-weight: 600;
  padding: 12px 28px;
  border-radius: var(--radius);
  border: 1px solid transparent;
  cursor: pointer;
  transition: all var(--transition);
  text-decoration: none;
  white-space: nowrap;
}

.btn:active {
  transform: scale(0.98);
}

.btn--primary {
  background: var(--accent);
  color: #0d1117;
  border-color: var(--accent);
}

.btn--primary:hover {
  background: var(--accent-hover);
  border-color: var(--accent-hover);
  box-shadow: 0 2px 12px rgba(88, 166, 255, 0.3);
}

.btn--primary:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  box-shadow: none;
}

.btn--secondary {
  background: transparent;
  color: var(--text-secondary);
  border-color: var(--border);
}

.btn--secondary:hover {
  color: var(--text-primary);
  border-color: var(--border-light);
  background: var(--bg-tertiary);
}

.btn-icon {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}

/* Quick scan templates */
.quick-scan {
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid var(--border);
}

.quick-scan__title {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.04em;
  margin-bottom: 10px;
}

.quick-scan__chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.chip {
  font-family: var(--font-mono);
  font-size: 12px;
  color: var(--text-secondary);
  background: var(--bg-tertiary);
  border: 1px solid var(--border);
  border-radius: 20px;
  padding: 6px 14px;
  cursor: pointer;
  transition: all var(--transition);
}

.chip:hover {
  color: var(--text-primary);
  border-color: var(--accent);
  background: rgba(88, 166, 255, 0.08);
}

/* ============================================
   RESULTS
   ============================================ */
.results {
  padding: 0 0 40px;
  display: none;
}

.results.visible {
  display: block;
  animation: fadeInUp 0.4s ease;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Score card */
.score-card {
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: 40px 32px;
  text-align: center;
  margin-bottom: 24px;
  position: relative;
  overflow: hidden;
}

.score-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: var(--score-color, var(--text-muted));
  transition: background 0.6s ease;
}

.score-label {
  font-size: 13px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--text-muted);
  margin-bottom: 16px;
}

.score-display {
  display: flex;
  align-items: baseline;
  justify-content: center;
  gap: 4px;
  margin-bottom: 8px;
}

.score-value {
  font-family: var(--font-mono);
  font-size: 72px;
  font-weight: 800;
  line-height: 1;
  color: var(--score-color, var(--text-primary));
  transition: color 0.6s ease;
}

.score-max {
  font-family: var(--font-mono);
  font-size: 24px;
  color: var(--text-muted);
}

/* Gauge */
.gauge {
  width: 100%;
  max-width: 400px;
  height: 8px;
  background: var(--bg-tertiary);
  border-radius: 4px;
  margin: 20px auto 16px;
  overflow: hidden;
  position: relative;
}

.gauge__fill {
  height: 100%;
  border-radius: 4px;
  background: var(--score-color, var(--text-muted));
  width: 0%;
  transition: width 1.2s cubic-bezier(0.22, 1, 0.36, 1), background 0.6s ease;
}

.gauge__segments {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
}

.gauge__segment {
  flex: 1;
  border-right: 2px solid var(--bg-secondary);
}

.gauge__segment:last-child {
  border-right: none;
}

.score-level {
  font-size: 14px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--score-color, var(--text-muted));
  transition: color 0.6s ease;
}

.gauge-labels {
  display: flex;
  justify-content: space-between;
  max-width: 400px;
  margin: 6px auto 0;
  font-size: 10px;
  font-family: var(--font-mono);
  color: var(--text-muted);
}

/* Checks list */
.checks-list {
  display: flex;
  flex-direction: column;
  gap: 2px;
  margin-bottom: 24px;
}

.check-item {
  display: grid;
  grid-template-columns: 28px 1fr auto;
  align-items: center;
  gap: 12px;
  padding: 14px 18px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  transition: border-color var(--transition), background var(--transition);
  opacity: 0;
  transform: translateX(-8px);
}

.check-item.revealed {
  opacity: 1;
  transform: translateX(0);
  transition: opacity 0.3s ease, transform 0.3s ease, border-color var(--transition), background var(--transition);
}

.check-item:first-child {
  border-radius: var(--radius-lg) var(--radius-lg) 0 0;
}

.check-item:last-child {
  border-radius: 0 0 var(--radius-lg) var(--radius-lg);
}

.check-item:only-child {
  border-radius: var(--radius-lg);
}

.check-item + .check-item {
  border-top: none;
}

.check-item:hover {
  background: var(--bg-card);
}

.check-item--pass {
  border-left: 3px solid var(--green);
}

.check-item--fail {
  border-left: 3px solid var(--red);
}

.check-icon {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
  font-weight: 700;
  flex-shrink: 0;
}

.check-icon--pass {
  background: var(--green-bg);
  color: var(--green);
  border: 1px solid var(--green-border);
}

.check-icon--fail {
  background: var(--red-bg);
  color: var(--red);
  border: 1px solid var(--red-border);
}

.check-info {
  min-width: 0;
}

.check-name {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 2px;
}

.check-desc {
  font-size: 12px;
  color: var(--text-secondary);
  line-height: 1.4;
}

.check-weight {
  font-family: var(--font-mono);
  font-size: 12px;
  font-weight: 600;
  color: var(--text-muted);
  white-space: nowrap;
  padding: 3px 8px;
  background: var(--bg-tertiary);
  border-radius: 4px;
}

.check-weight--fail {
  color: var(--red);
  background: var(--red-bg);
}

/* ============================================
   ACTIONS (post-scan)
   ============================================ */
.actions-row {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  margin-bottom: 24px;
}

.cta-card {
  background: linear-gradient(135deg, rgba(88, 166, 255, 0.08) 0%, rgba(63, 185, 80, 0.04) 100%);
  border: 1px solid rgba(88, 166, 255, 0.2);
  border-radius: var(--radius-lg);
  padding: 28px 24px;
  margin-bottom: 24px;
  display: none;
}

.cta-card.visible {
  display: block;
  animation: fadeInUp 0.4s ease 0.6s both;
}

.cta-card__header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.cta-card__icon {
  font-size: 24px;
}

.cta-card__title {
  font-size: 18px;
  font-weight: 700;
}

.cta-card__desc {
  font-size: 14px;
  color: var(--text-secondary);
  margin-bottom: 20px;
  line-height: 1.6;
}

.cta-card__features {
  list-style: none;
  margin-bottom: 20px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 8px;
}

.cta-card__feature {
  font-size: 13px;
  color: var(--text-secondary);
  display: flex;
  align-items: center;
  gap: 8px;
}

.cta-card__feature::before {
  content: '';
  width: 6px;
  height: 6px;
  background: var(--green);
  border-radius: 50%;
  flex-shrink: 0;
}

.cta-card__btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-family: var(--font-sans);
  font-size: 15px;
  font-weight: 700;
  padding: 14px 32px;
  border-radius: var(--radius);
  border: none;
  cursor: pointer;
  text-decoration: none;
  background: linear-gradient(135deg, #3fb950, #2ea043);
  color: #fff;
  transition: all var(--transition);
  box-shadow: 0 2px 8px rgba(63, 185, 80, 0.3);
}

.cta-card__btn:hover {
  background: linear-gradient(135deg, #4cc964, #3fb950);
  box-shadow: 0 4px 16px rgba(63, 185, 80, 0.4);
  transform: translateY(-1px);
}

.cta-card__price {
  font-family: var(--font-mono);
}

/* Free resources */
.free-resources {
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: 20px 24px;
  margin-bottom: 24px;
  display: none;
}

.free-resources.visible {
  display: block;
  animation: fadeInUp 0.4s ease 0.8s both;
}

.free-resources__title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: 12px;
}

.free-resources__list {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.free-resources__item {
  display: flex;
  align-items: center;
  gap: 10px;
}

.free-resources__icon {
  font-size: 14px;
  flex-shrink: 0;
  opacity: 0.7;
}

.free-resources__link {
  font-size: 14px;
  color: var(--accent);
  text-decoration: none;
  transition: color var(--transition);
}

.free-resources__link:hover {
  color: var(--accent-hover);
  text-decoration: underline;
}

/* ============================================
   HOW IT WORKS
   ============================================ */
.how-it-works {
  padding: 40px 0;
  border-top: 1px solid var(--border);
}

.how-it-works__title {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 24px;
  text-align: center;
  color: var(--text-secondary);
}

.steps {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
}

.step {
  text-align: center;
  padding: 24px 16px;
}

.step__number {
  font-family: var(--font-mono);
  font-size: 11px;
  font-weight: 700;
  color: var(--accent);
  background: rgba(88, 166, 255, 0.1);
  border: 1px solid rgba(88, 166, 255, 0.2);
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 12px;
}

.step__title {
  font-size: 15px;
  font-weight: 700;
  margin-bottom: 6px;
}

.step__desc {
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.5;
}

/* ============================================
   FOOTER
   ============================================ */
.footer {
  padding: 32px 0;
  border-top: 1px solid var(--border);
  text-align: center;
}

.footer__text {
  font-size: 13px;
  color: var(--text-muted);
}

.footer__link {
  color: var(--text-secondary);
  text-decoration: none;
  transition: color var(--transition);
}

.footer__link:hover {
  color: var(--accent);
}

.footer__sep {
  margin: 0 8px;
  color: var(--border);
}

/* ============================================
   RESPONSIVE
   ============================================ */
@media (max-width: 600px) {
  .header {
    padding: 32px 0 24px;
  }

  .score-card {
    padding: 28px 20px;
  }

  .score-value {
    font-size: 56px;
  }

  .score-max {
    font-size: 20px;
  }

  .check-item {
    grid-template-columns: 24px 1fr;
    gap: 10px;
    padding: 12px 14px;
  }

  .check-weight {
    grid-column: 2;
    justify-self: start;
    margin-top: -4px;
  }

  .btn-row {
    flex-direction: column;
  }

  .btn {
    width: 100%;
    justify-content: center;
  }

  .actions-row {
    flex-direction: column;
  }

  .cta-card__features {
    grid-template-columns: 1fr;
  }
}

/* ============================================
   UTILITY ANIMATIONS
   ============================================ */
@keyframes countUp {
  from { opacity: 0; transform: scale(0.5); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

.scanning-indicator {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  color: var(--text-secondary);
  animation: pulse 1.2s ease infinite;
}

.scanning-indicator__dot {
  width: 8px;
  height: 8px;
  background: var(--accent);
  border-radius: 50%;
  animation: pulse 0.8s ease infinite;
}
</style>
</head>
<body>

<!-- ==========================================
     HEADER
     ========================================== -->
<header class="header">
  <div class="container">
    <div class="header__badge">Free Tool</div>
    <h1 class="header__title">Claude Code Risk Scanner</h1>
    <p class="header__tagline">Check your AI agent's safety in 30 seconds</p>
  </div>
</header>

<!-- ==========================================
     HOW IT WORKS
     ========================================== -->
<section class="how-it-works" style="border-top:none; padding-top: 24px;">
  <div class="container">
    <h2 class="how-it-works__title">How it works</h2>
    <div class="steps">
      <div class="step">
        <div class="step__number">1</div>
        <div class="step__title">Paste your config</div>
        <div class="step__desc">CLAUDE.md, hooks listing, settings &mdash; anything related to your Claude Code setup</div>
      </div>
      <div class="step">
        <div class="step__number">2</div>
        <div class="step__title">Run the scan</div>
        <div class="step__desc">10 safety checks run instantly in your browser. Nothing is sent anywhere</div>
      </div>
      <div class="step">
        <div class="step__number">3</div>
        <div class="step__title">Fix the gaps</div>
        <div class="step__desc">Get a risk score and clear recommendations to harden your setup</div>
      </div>
    </div>
  </div>
</section>

<!-- ==========================================
     SCAN INPUT
     ========================================== -->
<section class="scan-section">
  <div class="container">
    <label class="scan-section__label" for="config-input">
      <svg class="scan-section__label-icon" viewBox="0 0 16 16" fill="currentColor">
        <path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/>
      </svg>
      Paste your CLAUDE.md, settings, or hook configuration below
    </label>
    <div class="textarea-wrapper">
      <textarea
        class="scan-textarea"
        id="config-input"
        placeholder="# Example CLAUDE.md&#10;&#10;## Safety Rules&#10;- Never run rm -rf without confirmation&#10;- Git backup before destructive operations&#10;&#10;## Hooks&#10;PreToolUse: dangerous-command-blocker.sh&#10;PostToolUse: error-tracker.sh&#10;Stop: session-saver.sh&#10;&#10;## .gitignore&#10;.env&#10;credentials.json&#10;*.pem&#10;&#10;(Or paste the output of: ls -la ~/.claude/hooks/)"
        spellcheck="false"
      ></textarea>
      <span class="char-count" id="char-count">0 chars</span>
    </div>

    <div class="btn-row">
      <button class="btn btn--primary" id="scan-btn" disabled>
        <svg class="btn-icon" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"/>
        </svg>
        Run Scan
      </button>
      <button class="btn btn--secondary" id="clear-btn" style="display:none;">Clear</button>
    </div>

    <!-- Quick scan -->
    <div class="quick-scan">
      <div class="quick-scan__title">Quick Scan Templates</div>
      <div class="quick-scan__chips">
        <button class="chip" data-template="minimal">Minimal setup (no hooks)</button>
        <button class="chip" data-template="basic">Basic hooks only</button>
        <button class="chip" data-template="example-claudemd">Example CLAUDE.md</button>
      </div>
    </div>
  </div>
</section>

<!-- ==========================================
     RESULTS
     ========================================== -->
<section class="results" id="results">
  <div class="container">
    <!-- Score card -->
    <div class="score-card" id="score-card">
      <div class="score-label">Risk Score</div>
      <div class="score-display">
        <span class="score-value" id="score-value">0</span>
        <span class="score-max">/ 19</span>
      </div>
      <div class="gauge">
        <div class="gauge__fill" id="gauge-fill"></div>
        <div class="gauge__segments">
          <div class="gauge__segment"></div>
          <div class="gauge__segment"></div>
          <div class="gauge__segment"></div>
          <div class="gauge__segment"></div>
        </div>
      </div>
      <div class="gauge-labels">
        <span>0 LOW</span>
        <span>5 MOD</span>
        <span>10 HIGH</span>
        <span>19 CRIT</span>
      </div>
      <div class="score-level" id="score-level">SCANNING...</div>
    </div>

    <!-- Checks -->
    <div class="checks-list" id="checks-list"></div>

    <!-- Actions -->
    <div class="actions-row" id="actions-row">
      <button class="btn btn--secondary" id="share-btn">
        <svg class="btn-icon" viewBox="0 0 16 16" fill="currentColor">
          <path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 0 13.027a9.286 9.286 0 0 0 5.026 1.473"/>
        </svg>
        Share on Twitter
      </button>
      <button class="btn btn--secondary" id="rescan-btn">
        <svg class="btn-icon" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5ZM1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834Z"/>
        </svg>
        Re-scan
      </button>
    </div>

    <!-- CTA -->
    <div class="cta-card" id="cta-card">
      <div class="cta-card__header">
        <span class="cta-card__icon" aria-hidden="true">&#9889;</span>
        <span class="cta-card__title">Fix all issues in one install</span>
      </div>
      <p class="cta-card__desc">
        The <strong>CC-Codex Ops Kit</strong> covers all 10 safety checks with production-ready hooks,
        a context monitor, error tracker, and session saver. One <code>bash install.sh</code> and you're done.
      </p>
      <ul class="cta-card__features">
        <li class="cta-card__feature">Dangerous command blocker</li>
        <li class="cta-card__feature">Auto git backup on every edit</li>
        <li class="cta-card__feature">Session state auto-save</li>
        <li class="cta-card__feature">External action gating</li>
        <li class="cta-card__feature">Context window monitor</li>
        <li class="cta-card__feature">Error tracking + root cause</li>
        <li class="cta-card__feature">Secrets exclusion templates</li>
        <li class="cta-card__feature">Production settings.json</li>
      </ul>
      <a class="cta-card__btn" href="https://yurukusa.gumroad.com/l/cc-codex-ops-kit" target="_blank" rel="noopener">
        Fix all issues &mdash; CC-Codex Ops Kit <span class="cta-card__price">($9.99)</span>
      </a>
    </div>

    <!-- Free resources -->
    <div class="free-resources" id="free-resources">
      <div class="free-resources__title">Free resources to get started</div>
      <ul class="free-resources__list">
        <li class="free-resources__item">
          <span class="free-resources__icon" aria-hidden="true">&#128268;</span>
          <a class="free-resources__link" href="https://github.com/yurukusa/claude-code-ops-starter" target="_blank" rel="noopener">4 Free Safety Hooks (GitHub)</a>
        </li>
        <li class="free-resources__item">
          <span class="free-resources__icon" aria-hidden="true">&#9989;</span>
          <a class="free-resources__link" href="https://gist.github.com/yurukusa/23b172374e2e32bdff7d85d21e0f19a2" target="_blank" rel="noopener">10-Item Self-Check List (Gist)</a>
        </li>
        <li class="free-resources__item">
          <span class="free-resources__icon" aria-hidden="true">&#128196;</span>
          <a class="free-resources__link" href="https://gist.github.com/yurukusa/9e710dece35d673dd71e678dfa55eaa3" target="_blank" rel="noopener">CLAUDE.md Generator (Gist)</a>
        </li>
        <li class="free-resources__item">
          <span class="free-resources__icon" aria-hidden="true">&#128187;</span>
          <a class="free-resources__link" href="https://github.com/yurukusa/claude-code-ops-starter/blob/main/tools/risk-score.sh" target="_blank" rel="noopener">CLI version of this scanner (Bash)</a>
        </li>
      </ul>
    </div>
  </div>
</section>

<!-- ==========================================
     FOOTER
     ========================================== -->
<footer class="footer">
  <div class="container">
    <p class="footer__text">
      Built by <a class="footer__link" href="https://github.com/yurukusa" target="_blank" rel="noopener">yurukusa</a>
      <span class="footer__sep">|</span>
      <a class="footer__link" href="https://github.com/yurukusa/claude-code-ops-starter" target="_blank" rel="noopener">Open source on GitHub</a>
      <span class="footer__sep">|</span>
      100% client-side &mdash; nothing leaves your browser
    </p>
  </div>
</footer>

<!-- ==========================================
     JAVASCRIPT
     ========================================== -->
<script>
(function() {
  'use strict';

  /* ============================================
     DOM REFS
     ============================================ */
  const textarea = document.getElementById('config-input');
  const charCount = document.getElementById('char-count');
  const scanBtn = document.getElementById('scan-btn');
  const clearBtn = document.getElementById('clear-btn');
  const resultsSection = document.getElementById('results');
  const scoreCard = document.getElementById('score-card');
  const scoreValue = document.getElementById('score-value');
  const gaugeFill = document.getElementById('gauge-fill');
  const scoreLevel = document.getElementById('score-level');
  const checksList = document.getElementById('checks-list');
  const shareBtn = document.getElementById('share-btn');
  const rescanBtn = document.getElementById('rescan-btn');
  const ctaCard = document.getElementById('cta-card');
  const freeResources = document.getElementById('free-resources');

  /* ============================================
     QUICK SCAN TEMPLATES
     ============================================ */
  const templates = {
    minimal: `# My Claude Code Setup

I just installed Claude Code and started using it.
No custom configuration yet.

$ ls ~/.claude/
settings.json

$ ls ~/.claude/hooks/
(empty)

$ cat .gitignore
node_modules/
dist/`,

    basic: `# My Setup

$ cat CLAUDE.md
# Project Rules
- Follow existing code style
- Write tests for new features

$ ls ~/.claude/hooks/
PreToolUse/
  dangerous-command-blocker.sh

$ cat dangerous-command-blocker.sh
#!/bin/bash
# Block rm -rf and git reset --hard
if echo "$TOOL_INPUT" | grep -qE 'rm.*-rf|git.*reset.*--hard'; then
  echo "BLOCKED: dangerous command detected"
  exit 1
fi

$ cat .gitignore
node_modules/
.env
*.key`,

    'example-claudemd': `# CLAUDE.md

## Safety Rules
- Never run rm -rf without creating a backup first
- Never run git reset --hard or git clean -fd
- Always create a backup branch before destructive operations: git checkout -b backup/before-changes-$(date)

## Hooks Configuration
PreToolUse hooks:
  - dangerous-command-blocker.sh (blocks rm -rf, git reset --hard, git clean -f)
  - external-action-gate.sh (requires approval for outbound actions)

PostToolUse hooks:
  - error-tracker.sh (logs errors to error-log.jsonl with root cause analysis)
  - auto-backup.sh (creates git backup before-changes branch)

Stop hooks:
  - session-saver.sh (saves session state on exit)

## Settings
settings.json configured with:
  - permissions: restricted
  - allowedTools: limited set

## .gitignore
.env
credentials.json
.secret
*.pem
*.key

## Error Tracking
All errors logged to error-log.jsonl
Root cause analysis on failures
Automatic retry with backoff

## External Gates
Consensus required for:
  - Publishing content
  - Sending emails
  - Making API calls to external services`
  };

  /* ============================================
     CHECK DEFINITIONS
     ============================================ */
  const checks = [
    {
      id: 'claudemd',
      name: 'CLAUDE.md exists',
      weight: 2,
      passDesc: 'Configuration file detected. Your agent has baseline instructions.',
      failDesc: 'No CLAUDE.md found. Your agent has no safety instructions or project rules.',
      test: function(text) {
        const t = text.toLowerCase();
        // Check for CLAUDE.md mention OR typical CLAUDE.md section headers
        return /claude\.md/i.test(text) ||
               /^#\s+(project\s+rules|safety\s+rules|instructions)/im.test(text) ||
               /^##\s+(safety|rules|hooks|permissions)/im.test(text);
      }
    },
    {
      id: 'hooks',
      name: 'Hooks directory configured',
      weight: 2,
      passDesc: 'Hook system is active. Events trigger safety scripts.',
      failDesc: 'No hooks detected. Claude Code runs without any event-driven safety checks.',
      test: function(text) {
        return /hooks/i.test(text) &&
               (/PreToolUse/i.test(text) || /PostToolUse/i.test(text) || /Stop/i.test(text) ||
                /\.sh\b/i.test(text) || /hook/i.test(text));
      }
    },
    {
      id: 'dangerous-cmd',
      name: 'Dangerous command protection',
      weight: 3,
      passDesc: 'Destructive commands (rm -rf, git reset --hard, git clean) are blocked or monitored.',
      failDesc: 'No protection against destructive commands. A single mistake could wipe your repo.',
      test: function(text) {
        const t = text.toLowerCase();
        // Must mention blocking/protection patterns for dangerous commands
        const hasDangerRef = /rm\s+(-\w*r\w*f|--recursive)|rm\s+-rf/i.test(text) ||
                             /git\s+(reset\s+--hard|clean\s+-f)/i.test(text);
        const hasBlocker = /block|prevent|protect|forbidden|banned|deny|reject|never\s+run/i.test(text);
        return hasDangerRef && hasBlocker;
      }
    },
    {
      id: 'git-backup',
      name: 'Git auto-backup hook',
      weight: 2,
      passDesc: 'Automatic backup branches are created before risky operations.',
      failDesc: 'No automatic backup. Destructive operations have no safety net.',
      test: function(text) {
        return /backup/i.test(text) ||
               /auto-backup/i.test(text) ||
               /before-changes/i.test(text) ||
               /backup.*branch/i.test(text) ||
               /git\s+checkout\s+-b\s+backup/i.test(text);
      }
    },
    {
      id: 'session-state',
      name: 'Session state saving',
      weight: 1,
      passDesc: 'Session state is persisted on exit. Context survives restarts.',
      failDesc: 'No session saving. Agent loses all context when the session ends.',
      test: function(text) {
        const hasSessionRef = /session/i.test(text);
        const hasStateRef = /state/i.test(text) || /sav/i.test(text) || /persist/i.test(text);
        const hasStopHook = /Stop/i.test(text) && /hook/i.test(text);
        const hasSessionSaver = /session.sav/i.test(text);
        return (hasSessionRef && hasStateRef) || hasStopHook || hasSessionSaver;
      }
    },
    {
      id: 'external-gate',
      name: 'External action gate',
      weight: 2,
      passDesc: 'Outbound actions (publishing, API calls) go through a review gate.',
      failDesc: 'No gate on external actions. The agent can publish or send data without any check.',
      test: function(text) {
        const t = text.toLowerCase();
        return (/external/i.test(text) || /outbound/i.test(text)) &&
               (/gate/i.test(text) || /approval/i.test(text) || /consensus/i.test(text) || /review/i.test(text)) ||
               /consensus/i.test(text) && /gate/i.test(text) ||
               /external.action.gate/i.test(text);
      }
    },
    {
      id: 'error-tracking',
      name: 'Error tracking',
      weight: 1,
      passDesc: 'Errors are logged and tracked. Root cause analysis is available.',
      failDesc: 'No error tracking. Failures go unrecorded and unanalyzed.',
      test: function(text) {
        const hasError = /error/i.test(text);
        const hasTracking = /track|log|monitor|root.cause|error-log|error.log/i.test(text);
        return hasError && hasTracking;
      }
    },
    {
      id: 'secrets',
      name: 'Secrets exclusion',
      weight: 2,
      passDesc: 'Sensitive files (.env, credentials, keys) are excluded from version control.',
      failDesc: 'No secrets exclusion pattern found. Credentials may be committed to git.',
      test: function(text) {
        // Look for gitignore patterns with secret file types
        const hasGitignore = /gitignore/i.test(text) || /\.env/i.test(text);
        const hasSecretPattern = /\.env\b/i.test(text) || /credentials/i.test(text) ||
                                 /\.secret/i.test(text) || /\.key\b/i.test(text) || /\.pem\b/i.test(text);
        return hasSecretPattern;
      }
    },
    {
      id: 'settings',
      name: 'Settings.json configuration',
      weight: 1,
      passDesc: 'Claude Code settings.json is configured with permissions.',
      failDesc: 'No settings.json detected. Default (permissive) settings are in effect.',
      test: function(text) {
        return /settings\.json/i.test(text) || /permissions/i.test(text);
      }
    },
    {
      id: 'no-risky-ops',
      name: 'No risky operations',
      weight: 3,
      passDesc: 'No traces of reset --hard or clean -fd in recent history.',
      failDesc: 'Evidence of risky git operations (reset --hard, clean -fd) found in the config.',
      test: function(text) {
        // This check PASSES if there are NO unguarded risky ops
        // It fails if risky commands appear WITHOUT being in a blocklist/prevention context
        const riskyPatterns = /reset\s+--hard|clean\s+-fd|checkout\s+\./gi;
        const matches = text.match(riskyPatterns);
        if (!matches) return true; // No risky patterns = pass

        // Check if all occurrences are in a blocking/prevention context
        const lines = text.split('\n');
        let unguardedCount = 0;
        for (const line of lines) {
          if (riskyPatterns.test(line)) {
            riskyPatterns.lastIndex = 0;
            const l = line.toLowerCase();
            const isGuarded = /block|prevent|never|forbid|banned|deny|don't|do not|avoid/i.test(l);
            if (!isGuarded) {
              unguardedCount++;
            }
          }
          riskyPatterns.lastIndex = 0;
        }
        return unguardedCount === 0;
      }
    }
  ];

  /* ============================================
     STATE
     ============================================ */
  let lastResults = null;

  /* ============================================
     TEXTAREA EVENTS
     ============================================ */
  textarea.addEventListener('input', function() {
    const len = this.value.length;
    charCount.textContent = len.toLocaleString() + ' chars';
    scanBtn.disabled = len === 0;

    if (len > 0) {
      clearBtn.style.display = '';
    } else {
      clearBtn.style.display = 'none';
    }
  });

  clearBtn.addEventListener('click', function() {
    textarea.value = '';
    textarea.dispatchEvent(new Event('input'));
    resultsSection.classList.remove('visible');
    ctaCard.classList.remove('visible');
    freeResources.classList.remove('visible');
    textarea.focus();
  });

  /* ============================================
     QUICK SCAN CHIPS
     ============================================ */
  document.querySelectorAll('.chip[data-template]').forEach(function(chip) {
    chip.addEventListener('click', function() {
      const key = this.dataset.template;
      if (templates[key]) {
        textarea.value = templates[key];
        textarea.dispatchEvent(new Event('input'));
        textarea.scrollIntoView({ behavior: 'smooth', block: 'center' });
        // Flash the textarea
        textarea.style.borderColor = 'var(--accent)';
        setTimeout(function() {
          textarea.style.borderColor = '';
        }, 600);
      }
    });
  });

  /* ============================================
     SCAN LOGIC
     ============================================ */
  function runScan(text) {
    let totalScore = 0;
    const results = [];

    for (const check of checks) {
      const passed = check.test(text);
      results.push({
        id: check.id,
        name: check.name,
        weight: check.weight,
        passed: passed,
        desc: passed ? check.passDesc : check.failDesc
      });
      if (!passed) {
        totalScore += check.weight;
      }
    }

    return { score: totalScore, maxScore: 19, results: results };
  }

  function getLevel(score) {
    if (score === 0) return { label: 'LOW', color: 'var(--green)' };
    if (score <= 5) return { label: 'MODERATE', color: 'var(--yellow)' };
    if (score <= 10) return { label: 'HIGH', color: 'var(--orange)' };
    return { label: 'CRITICAL', color: 'var(--red)' };
  }

  /* ============================================
     RENDER RESULTS
     ============================================ */
  function renderResults(data) {
    lastResults = data;
    const level = getLevel(data.score);

    // Show results section
    resultsSection.classList.add('visible');

    // Reset score card
    scoreCard.style.setProperty('--score-color', level.color);
    scoreValue.textContent = '0';
    gaugeFill.style.width = '0%';
    scoreLevel.textContent = 'SCANNING...';
    scoreLevel.style.color = 'var(--text-muted)';

    // Clear checks
    checksList.innerHTML = '';
    ctaCard.classList.remove('visible');
    freeResources.classList.remove('visible');

    // Scroll to results
    setTimeout(function() {
      resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }, 100);

    // Animate score count-up
    const duration = 1000;
    const startTime = performance.now();
    const targetScore = data.score;

    function animateScore(currentTime) {
      const elapsed = currentTime - startTime;
      const progress = Math.min(elapsed / duration, 1);
      // Ease out cubic
      const eased = 1 - Math.pow(1 - progress, 3);
      const current = Math.round(targetScore * eased);
      scoreValue.textContent = current;

      // Gauge
      const pct = (current / data.maxScore) * 100;
      gaugeFill.style.width = pct + '%';

      if (progress < 1) {
        requestAnimationFrame(animateScore);
      } else {
        // Final
        scoreValue.textContent = targetScore;
        gaugeFill.style.width = (targetScore / data.maxScore * 100) + '%';
        scoreLevel.textContent = level.label;
        scoreLevel.style.color = level.color;
      }
    }

    requestAnimationFrame(animateScore);

    // Render check items with staggered reveal
    data.results.forEach(function(result, i) {
      const item = document.createElement('div');
      item.className = 'check-item ' + (result.passed ? 'check-item--pass' : 'check-item--fail');

      const iconClass = result.passed ? 'check-icon--pass' : 'check-icon--fail';
      const iconChar = result.passed ? '\u2713' : '\u2717';
      const weightClass = result.passed ? '' : ' check-weight--fail';
      const weightText = result.passed ? ('wt ' + result.weight) : ('+' + result.weight);

      item.innerHTML =
        '<div class="check-icon ' + iconClass + '">' + iconChar + '</div>' +
        '<div class="check-info">' +
          '<div class="check-name">' + escapeHtml(result.name) + '</div>' +
          '<div class="check-desc">' + escapeHtml(result.desc) + '</div>' +
        '</div>' +
        '<div class="check-weight' + weightClass + '">' + weightText + '</div>';

      checksList.appendChild(item);

      // Staggered animation
      setTimeout(function() {
        item.classList.add('revealed');
      }, 400 + i * 80);
    });

    // Show CTA if score > 0
    var failCount = data.results.filter(function(r) { return !r.passed; }).length;
    if (failCount > 0) {
      setTimeout(function() {
        ctaCard.classList.add('visible');
      }, 400 + data.results.length * 80 + 200);
    }

    // Always show free resources
    setTimeout(function() {
      freeResources.classList.add('visible');
    }, 400 + data.results.length * 80 + 400);
  }

  function escapeHtml(str) {
    var div = document.createElement('div');
    div.textContent = str;
    return div.innerHTML;
  }

  /* ============================================
     SCAN BUTTON
     ============================================ */
  scanBtn.addEventListener('click', function() {
    var text = textarea.value.trim();
    if (!text) return;
    var data = runScan(text);
    renderResults(data);
  });

  // Enter key (Ctrl+Enter) to scan
  textarea.addEventListener('keydown', function(e) {
    if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
      e.preventDefault();
      if (!scanBtn.disabled) {
        scanBtn.click();
      }
    }
  });

  /* ============================================
     SHARE / RE-SCAN
     ============================================ */
  shareBtn.addEventListener('click', function() {
    if (!lastResults) return;
    var level = getLevel(lastResults.score);
    var passCount = lastResults.results.filter(function(r) { return r.passed; }).length;
    var text = 'My Claude Code Risk Score: ' + lastResults.score + '/19 (' + level.label + ')\n' +
               passCount + '/10 safety checks passed\n\n' +
               'Check yours (free): ';
    // Use current page URL or fallback
    var url = window.location.href;
    var tweetUrl = 'https://twitter.com/intent/tweet?text=' + encodeURIComponent(text) + '&url=' + encodeURIComponent(url);
    window.open(tweetUrl, '_blank', 'width=550,height=420');
  });

  rescanBtn.addEventListener('click', function() {
    textarea.scrollIntoView({ behavior: 'smooth', block: 'center' });
    textarea.focus();
    // Brief highlight
    textarea.style.borderColor = 'var(--accent)';
    setTimeout(function() {
      textarea.style.borderColor = '';
    }, 600);
  });

})();
</script>

</body>
</html>
